## 通过路由器连接的两个网络

#### 端系统（end system）

#### 中间系统 

#### 应用层和运输层使用端到端协议

#### 网络层提供逐跳协议

#### 网络IP提供的是一种不可靠的服务，他只是尽可能吧分组从源节点送到目的节点，但不提供可靠性保障

#### TCP在不可靠的IP层提供一个可靠的运输层

#### 互联网的目的之一就是在应用程序中隐藏所有的物理细节

## TCP/IP协议族中不同层次的协议

TCP（全双工只需要一个端口号就行）使用不可靠的IP服务，并提供一种可靠的运输层服务

UDP为应用程序发送和接受数据报，和TCP不同，UDP是不可靠的

TCP丢包会重传，但是UDP丢包不会重传（语音）

IP是网络层上主要协议，同时被TCP和UDP使用

ICMP是IP协议的**附属协议**（当我们IP包丢失，通过ICMP发送给IP包发送源，告诉这个源什么原因这个IP包被丢弃了） PING是个应用程序，这个应用程序调用了ICMP

链路层主要有两个协议（ARP协议   RARP协议）

ARP完成IP地址（32位）解析成mac地址

## 封装(发送方)

![1603193821746](C:\Users\飞龙\AppData\Local\Temp\1603193821746.png)



以太网数据帧物理特性是长度在46~1500字节之间 （不够要补齐46，大于1500要分片）

以太网的帧首部有个16Bit的帧类型域

IP在首部中存入一个长度为8bit的数值，称作协议域（icmp,igmp,tcp,udp,esp,gre）

TCP和UDP都用一个16bit的端口号来表示不同的应用程序（ftp telnet http）

## 分用（接收方）



![1603194624355](C:\Users\飞龙\AppData\Local\Temp\1603194624355.png)

##  端口号

服务器一般都是通过知名端口号来识别（ftp 21 , telent 23）

客户端口号又称**临时端口号**（即**存在时间很短暂**）

大多数TCP/IP实现给临时端口号分配1024 ~ 5000之间的端口号 （源端口号是随机的，目的端口号是固定的）

大于5000的端口号是为其他服务器预留的（Internet上不常用的服务）

## 链路层

#### 以太网

标准速率10Mb/s,地址为48bit

#### IEEE 802封装

802.3针对整个CSMA/CD网络

### 封装格式

区分帧是以太网的帧还是8023帧关键在于看一个位表示长度还是类型

![1603197828736](C:\Users\飞龙\AppData\Local\Temp\1603197828736.png)

以太网和802.3两种帧都采用48bit(6字节)的目的地址和源地址

ARP和RARP协议对32bit的IP地址和48bit的硬件地址进行映射

802.3定义有效长度值与以太网的有效类型无一相同，这样，就可以对两种帧格式进行区分

802.3规定数据不分至少为38字节，对于以太网，要求至少要有46字节，为保证这点，必须在不足空间插入填充（pad）字节

0800 IP头部

0806 ARP协议

### 环回接口

传给环回地址（127.0.0.1）的任何数据均作为IP输入  （ping 一下）

传给广播地址或者多播地址的数据报复制一份传给环回接口，然后送到以太网上。

任何传给该主机IP地址的数据均送到环回接口

![1603199079484](C:\Users\飞龙\AppData\Local\Temp\1603199079484.png)

### MTU（最大传输单元）和路径MTU

以太网和802.3对数据帧长度都有一个限制，其最大值分别是1500和1492字节

如果IP层有一个数据报要传，而且数据报长度比链路层MTU还要大，IP层就要进行**分片**，将数据报分成若干片，使每一片长度都小于MTU。

点到点链路层和MTU并非指的是网络媒体和物理特性，这是个逻辑显示，目的是为交互使用提供足够快的响应时间。

两台通信主机路径中的最小MTU，被称作路径MTU

路径MTU在两个方向上不一定是一致的

## IP协议

IP协议是TCP/IP协议族中最核心的协议。所有的TCP、UDP、ICMP以及IGMP数据都以IP数据报格式传输

IP提供不可靠、无连接的数据报传送服务

不可靠的意思是它不能保证数据报能成功到达目的地。IP仅提供最好的传输服务。如果发生某种错误时，如某个路由器暂时用完了缓冲区，IP有一个简单的错误处理算法：丢弃该数据报，然后通过ICMP发送ICMP消息给信源端。任何要求的可靠性必须由上层提供（如TCP）

无连接是IP并不维护后续数据报的状态信息，每个数据报处理是相互独立的，IP数据报可以不按发送顺序接收。如果信源向相同的信宿放两个连续的数据报（A B），因为每个数据报都是独立地进行路由选择，可能选择不同路线，因此B可能在A到达之前到达。

ifconfig netstat

linux下如歌更改ip地址

ifconfig eth0 1.2.3.4 netmask 255.255.255.0

nestat -an 查看会话信息

netstat -r 查看路由表

## IP头部

首部最小20个字节，最大60个字节。最小时就是只有固定部分（每个单位32bit，也就是4个字节，共5行，就是20个字节），一个单位指的是一行。 

![1603250068160](C:\Users\飞龙\AppData\Local\Temp\1603250068160.png)

区分服务（TOS）:包括3 bit的优先权字段（取值可以从000-111所有值），4 bit的TOS子字段和1 bit未用位但必须置0,4 bit的TOS分别代表：最小时延、最大吞吐量、最高可靠性和最小费用。4 bit中只能置其中1 bit。如果所有4 bit均为0，那么就意味着是一般服务。Telnet、Rlogin这两个交互应用要求最小的传输时延，FTP文件传输要求最大吞吐量，最高可靠性是指网络管理（SNMP）和路由选择协议。用户网络新闻要求最小费用

片偏移：如果数据报大于一定长度会分片，会有偏移量的计算，如果不大于偏移量为0

生存时间（TTL）: 每过一个路由器这个TTL就减一，因为可能会出现环路，如果不做TTL就会永远环路下去

8位协议号：协议类型 （如 TCP为6  ,17UDP , 1 ICMP ）

首部检验和：收到的包和发送的包进行检验，校验数据的完整性。

**可选字段** 

最后一个字段是任选项，是数据报中一个可变长的可选信息。

定义如下：

记录路径（让每个路由器都记下它的IP地址） 时间戳 （让每个路由器记下它IP地址和时间）宽松源站选路（为数据报指定一系列必须经过的IP地址） 严格源站选路

#### 特殊情况的IP地址

![](C:\Users\飞龙\AppData\Roaming\Typora\typora-user-images\image-20201021161113922.png)

## ARP协议

当一台主机把以太网帧发送到位于同一局域网上的另一台主机时，是根据48bit的以太网地址来确定目的接口的。设备驱动程序不检查IP数据报中的目的IP地址

地址解析为这两种个不同地址形式提供映射：32bit的IP地址和数据链路层使用的任何类型的地址

ARP为IP地址到对应的硬件地址之间提供动态映射。这个过程是自动完成的。（基于IP找mac）

RARP是被那些没有磁盘驱动器的系统使用（一般是无盘工作站或X终端）需要系统管理员手动设置。(基于mac找IP)

![image-20201021164212983](C:\Users\飞龙\AppData\Roaming\Typora\typora-user-images\image-20201021164212983.png)

ARP地址解析协议是如何工作的？

涉及一个常考面试知识点，在浏览器中输入www.baidu.com会出现什么情况？

首先我们是想让包含该浏览器（应用程序）的主机和百度的服务器进行交互，从百度服务器上获取数据，首先我们主机会对www.baidu.com进行一个域名解析（通过解析器，DNS协议等），将这个域名进行解析成ip地址。应用层让TCP建立连接，TCP将IP地址和请求封装成一个IP包进行发送，发送时会出现两种情况：目的主机和发送主机是直连网络还是非直连网络，如果是直连网络，主机就会直接发送ARP请求获取目的主机的mac地址，不是直连网络（比如中间过了一台路由器），这时候源主机就会查路由查询路由直到目的IP的mac地址。ARP获取到mac地址后会发送一个ARP的广播（二层广播包，所有主机都能收到）出来，所有主机都可以收到，主机就会判断自己IP是不是广播出来的IP，如果有主机IP是这个广播IP，该主机就会回应（二层单波包有明确的源mac,也有明确的目的mac，回应只有发起者才能收到），这时候主机和服务器有了IP地址和映射，主机应用程序就能和百度服务器进行交互。

arp -a  pc上查看arp的缓存

arp -d  pc上删除arp的缓存

### ARP分组格式

![image-20201022182126353](C:\Users\飞龙\AppData\Roaming\Typora\typora-user-images\image-20201022182126353.png)

### ICMP

ICMP是IP层的一个组成部分。它传递差错报文以及其它需要注意的信息。ICMP报文通常被IP层协议或更高层协议（TCP / UDP）使用。一些ICMP报文把差错返回给用户进程。

ICMP报文在IP数据报内部被传输的

![image-20201022193407854](C:\Users\飞龙\AppData\Roaming\Typora\typora-user-images\image-20201022193407854.png)



ICMP干什么的呢？

如果传输过程中出现丢包，都会用ICMP将丢包的原因通过路由器反馈给发送源。ICMP主要用来测试网络和反映网络中出现的问题。

ICMP报文所有类型前4个字节都是一样的，剩下其它字节互不相同。

类型字段可以有15个不同的值，以描述特定类型的ICMP报文。

检验和 字段覆盖整个ICMP报文，ICMP检验和是必须的。ICMP检验身后所有数据

校验和是干什么的呢？

校验数据的，但是数据范围有效性不同

![image-20201022194629923](C:\Users\飞龙\AppData\Roaming\Typora\typora-user-images\image-20201022194629923.png)

以太网头部和IP的校验和用来校验自身，ICP，ICMP用来校验和自身和身后所有数据。

#### ICMP差错报文

什么请情况下不会产生差错报文？

1：ICMP差错报文（ICMP查询报文可能会产生差错报文）

2：目的地址是广播地址或多播地址的数据报

3：作为链路层广播的数据报

4：不是IP分片的第一片（只有第一片只有端口号信息，没有端口号的信息送回去也没用）

5：源地址不是单个主机的数据报，源地址不能为零地址、环回地址、广播地址或多播地址

为什么制定这些规则？

防止过去允许ICMP差错报文对广播分组响应所带来的广播风暴。



### Ping介绍

ping目的测试另一台主机是否可达，该程序发送一份ICMP回显请求报文给主机，并等待返回ICMP回显应答

可以用Ping程序来确定问题出现在哪里。Ping程序还能检测出主机的往返时间，表明主机离我们有多远

一台主机的可达性不只取决于IP层是否可达，还取决于使用何种协议以及端口号。

我们称发送回显请求的Ping程序为客户，称被ping的主机为服务器，大多数TCP/IP实现都在内核中直接支持Ping服务器。

ping -R 记录路由功能。记录所有出方向的接口。但是路径记录有缺陷，所能记录的路径最多只有9跳

为弥补Ping ，出现了Traceroute

### Traceroute

Traceroute只需要目的端运行一个**UDP模块-**-其他不需要任何特殊的服务器程序

Traceroute可以看到IP数据报从一台主机传到另一台主机所经过的路由。

弥补记录选项的缺点：

并不是所有的路由器都支持记录路由选项，因此该选项在某些枯井上不能使用

记录路由一般是单向的选项，发送端设置了该选项，接收端不得不从收到的IP头部提取有效信息，单手返回给发送端

IP中留给选项空间有限，记录路径少。

![image-20201023173048193](C:\Users\飞龙\AppData\Roaming\Typora\typora-user-images\image-20201023173048193.png)



tracert  使用ICMP Echo_request

![image-20201023172918172](C:\Users\飞龙\AppData\Roaming\Typora\typora-user-images\image-20201023172918172.png)

### IP选路

有一个路由守护进程，可以更新路由表，route命令也可以更新路由表,netstat查询路由表

查看路由表 netstat -rn  route print

![image-20201023192308757](C:\Users\飞龙\AppData\Roaming\Typora\typora-user-images\image-20201023192308757.png)

UDP TCP需要进行转发时要查询路由表来找到这个传输的下一跳

### UDP

UDP是一个简单的面向**数据报**的运输层协议：进程的每个输出操作都正好产生一个UDP数据报，并且组装成一份待发送的IP数据报。无连接、不可靠、快速传输 。

UDP叫做**面向数据报的协议**

应用程序产生的全体数据与真正发送的IP数据报可能没什么联系

![image-20201023214732030](C:\Users\飞龙\AppData\Roaming\Typora\typora-user-images\image-20201023214732030.png)

“TCP是一种流模式的协议，UDP是一种数据报模式的协议”，
**1、TCP**
打个比方比喻TCP，你家里有个蓄水池，你可以里面倒水，蓄水池上有个龙头，你可以通过龙头将水池里的水放出来，然后用各种各样的容器装（杯子、矿泉水瓶、锅碗瓢盆）接水。 上面的例子中，**往水池里倒几次水和接几次水是没有必然联系的，**也就是说你可以只倒一次水，然后分10次接完。另外，水池里的水接多少就会少多少；往里面倒多少水，就会增加多少水，但是不能超过水池的容量，多出的水会溢出。
结合TCP的概念，水池就好比接收缓存，倒水就相当于发送数据，接水就相当于读取数据。好比你通过TCP连接给另一端发送数据，你只调用了一次write，发送了100个字节，但是对方可以分10次收完，每次10个字节；你也可以调用10次write，每次10个字节，但是对方可以一次就收完。（假设数据都能到达）但是，你发送的数据量不能大于对方的接收缓存（流量控制），如果你硬是要发送过量数据，则对方的缓存满了就会把多出的数据丢弃。 这种情况是设置非阻塞I/O模型，会把内存耗尽，因为socket是存在内核中的。
**2、UDP**
UDP和TCP不同，发送端调用了几次write，接收端必须用相同次数的read读完。**UDP是基于报文的，在接收的时候，每次最多只能读取一个报文，报文和报文是不会合并的，如果缓冲区小于报文长度，则多出的部分会被丢弃。**也就说，如果不指定MSG_PEEK标志，每次读取操作将消耗一个报文。
**3、为什么**
其实，这种不同是由TCP和UDP的特性决定的。TCP是面向连接的，也就是说，在连接持续的过程中，socket中收到的数据都是由同一台主机发出的（劫持什么的不考虑），因此，保证数据是有序的到达就行了，至于每次读取多少数据自己看着办。
而UDP是无连接的协议，也就是说，只要知道接收端的IP和端口，且网络是可达的，任何主机都可以向接收端发送数据。这时候，如果一次能读取超过一个报文的数据，则会乱套。比如，主机A向发送了报文P1，主机B发送了报文P2，如果能够读取超过一个报文的数据，那么就会将P1和P2的数据合并在了一起，这样的数据是没有意义的。

##### UDP三大应用

查询： DNS

没有TCP三次握手过程，比较快。

多个DNS同时查询

数据传输 : TFTP(停止等待协议)

慢（需要运用层确认数据）

适合于无盘工作站

语音视频流

支持**广播组播**  TCP一定是单波

支持丢包，保障效率

![image-20201023221506946](C:\Users\飞龙\AppData\Roaming\Typora\typora-user-images\image-20201023221506946.png)

端口号表示发送和接受进程

TCP端口号和UDP的端口号是相互独立的（rsh和syslog = 514），尽管相互独立，TCP和UDP是可以选择相同的端口号。

UDP长度是指UDP首部和UDP收据的字节长度。该字段的值8字节

 

###   IP分片

IP把MTU与数据报长度进行比较

如果需要进行分片，分片可以在原始发送端主机上，也可以发生在中间路由器上

把一份IP数据报分片以后，只有到达目的地才进行重新组装

重新组装由目的端的IP层来完成，目的是使分片和重新组装过程对运输层（TCP/IP）是透明的

已经分片过的数据报可能会再次进行分片

UDP并不关心IP会分片重组装

### 最大UDP数据报长度

IP数据报最大长度是65535字节，这是由IP首部 16bit总长度字段限制的

在真正操作中IP最大数据报支持长度，应用程序可能会受到程序接口的限制，socket API提供一个可供应程序调用的函数，以设置收发缓存长度，也会受到TCP/IP内核实现。



#### 广播与多播

三种IP地址：单播地址，广播地址，多播地址。

广播和多播**仅应用于UDP**，它们需要将报文同时传往多个接收者应用，TCP不支持多播广播。

TCP是一种面向连接协议，**意味着分别运行与两个主机内的两个进程**间存在一条连接

有时一个主机要向网上的多有其他主机发送帧，这就是广播。通过ARP和RARP可以看到这一过程。

多播处于单播和广播之间：帧仅传送给属于多播组的多个主机。


1．单播：
主机之间一对一的通讯模式，网络中的交换机和路由器对数据**只进行转发不进行复制**。如果10个客户机需要相同的数据，则服务器需要逐一传送，重复10次相同的工作。但由于其能够针对每个客户的及时响应，所以现在的网页浏览全部都是采用单播模式，具体的说就是IP单播协议。网络中的路由器和交换机根据其目标地址选择传输路径，将IP单播数据传送到其指定的目的地。
单播的优点：
1）服务器及时响应客户机的请求
2）服务器针对每个客户不通的请求发送不通的数据，容易实现个性化服务。

单播的缺点：
1）服务器针对每个客户机发送数据流，服务器流量＝客户机数量×客户机流量；在客户数量大、每个客户机流量大的流媒体应用中服务器不堪重负。
2）现有的网络带宽是金字塔结构，城际省际主干带宽仅仅相当于其所有用户带宽之和的5％。如果全部使用单播协议，将造成网络主干不堪重负。现在的P2P应用就已经使主干经常阻塞。而将主干扩展20倍几乎是不可能。

2．广播：
主机之间一对所有的通讯模式，网络对其中每一台主机**发出的信号都进行无条件复制并转发**，**所有主机都可以接收到所有信息**（不管你是否需要），由于其**不用路径选择，所以其网络成本可以很低廉**。有线电视网就是典型的广播型网络，我们的电视机实际上是接受到所有频道的信号，但只将一个频道的信号还原成画面。在数据网络中也允许广播的存在，但其被限制在二层交换机的局域网范围内，禁止广播数据穿过路由器，防止广播数据影响大面积的主机。
广播的优点：
1）网络设备简单，维护简单，布网成本低廉
2）由于服务器不用向每个客户机单独发送数据，所以**服务器流量负载极低。**

广播的缺点：
1）**无法针对每个客户的要求和时间及时提供个性化服务**。
2）网络允许服务器提供数据的带宽有限，客户端的最大带宽＝服务总带宽。例如有线电视的客户端的线路支持100个频道（如果采用数字压缩技术，理论上可以提供500个频道），即使服务商有更大的财力配置更多的发送设备、改成光纤主干，也无法超过此极限。也**就是说无法向众多客户提供更多样化、更加个性化的服务**。
3）**广播禁止允许在Internet宽带网上传输。**

3．组播：
主机之间一对一组的通讯模式，也就是加入了同一个组的主机可以接受到此组内的所有数据，网络中的交换机和路由器只向有需求者复制并转发其所需数据。主机可以向路由器请求加入或退出某个组，网络中的路由器和交换机有选择的复制并传输数据，即只将组内数据传输给那些加入组的主机。这样既能一次将数据传输给多个有需要（加入组）的主机，又能保证不影响其他不需要（未加入组）的主机的其他通讯。
组播的优点：
1）需要相同数据流的客户端加入相同的组共享一条数据流，节省了服务器的负载。具备广播所具备的优点。
2）由于组播协议是根据接受者的需要对数据流进行复制转发，所以服务端的服务总带宽不受客户接入端带宽的限制。IP协议允许有2亿6千多万个组播，所以其提供的服务可以非常丰富。
3）此协议和单播协议一样允许在Internet宽带网上传输。

组播的缺点：
1）与单播协议相比没有纠错机制，发生丢包错包后难以弥补，但可以通过一定的容错机制和QOS加以弥补。
2）现行网络虽然都支持组播的传输，但在客户认证、QOS等方面还需要完善，这些缺点在理论上都有成熟的解决方案，只是需要逐步推广应用到现存网络当中。



#### **广播**

受限广播 255.255.255.255

指向网络的广播 10.55.255.255 192.168.1.255

指向子网的广播  10.1.1.255 10.1.255.255

指向所有子网的广播 10.255.255.255

主机处理的地址 192.168.255.255

路由器支持255.255.255.255 主机不支持，当路由器处理

![img](https://uploadfiles.nowcoder.com/images/20180614/4039680_1528947705246_13ABD61BD6655587865C9126C15D259D)

## TCP 传输控制协议

TCP提供一种面向连接的可靠的字节流服务。面向连接就意味着两个使用TCP应用（通常是一个客户端一个服务器），二者在交换数据之前必须先建立一个TCP连接。

##### TCP怎么确保可靠性呢？

1：应用数据被分割成TCP认为最合适发送的数据块

2：当TCP发出一个段后，它启动一个定时器，等待目的端确认收到这个报文段。如果不能及时收到一个确认，将重发这个报文段。

3：当TCP收到发自TCP连接另一端的数据，它将发送一个确认。这个确认不是立即发送，通常推迟几分之一秒（通常是200ms delayed_Ack）。

4：TCP将保持它的首部和数据的检验和

5：TCP报文段作为IP数据报来传输，IP数据报到达可能会失序，因此TCP报文段的到达也可能失序。如果必要，TCP将会对收到的数据进行重新排序，将收到的数据以正确的顺序交给应用层。

6：TCP接收端会丢弃重复数据

7：TCP能提供流量控制。TCP连接的每一方都有固定大小的缓冲空间，TCP接收端只允许另一端发送接收缓冲区所能接纳数据，防止较快主机致使较慢主机缓冲区溢出。

##### TCP的字节流

两个应用程序通过TCP连接交换8bit字节构成字节流，TCP不在字节流中插入记录标识符。我们成为字节流服务。

假如一方应用程序先传10字节，又传20字节，再传50字节，连接的另一方将无法了解每次发送了多少字节，连接的一方可以分4次接受这80字节，每次接受20字节。一端字节流放到TCP连接上，同样的字节流将出现在TCP连接的另一端。

TCP对字节流的内容不做任何解释。TCP不知道传输数据字节流是二进制数据，还是ASCLL字符等，对字节流的解释由TCP连接双方的应用层解释。

##### TCP报头

![image-20201025145237435](C:\Users\飞龙\AppData\Roaming\Typora\typora-user-images\image-20201025145237435.png)

每个TCP段都包含源端和目的端的端口号，用于寻找发端和收端应用进程。这两个值加上IP首部中源端IP和目的端IP地址唯一确定一个TCP连接。

一个IP地址和一个端口号称为一个插口（socket）插口对（socketpair）

序号用来标识从TCP发端向TCP收端发送的数据字节流，它标识在这个报文段中的第一个数据字节的序号。如果将字节流看做在两个应用程序间的单向流动，则TCP用序号对字节进行计数。序号是32bit无符号数，序号到达2的32次方减一后又从0开始。SYN标志消耗了一个序号

确认序号应当是上次已成功收到数据字节序号加1，只有ACK标志为1时确认序号字段才有效。

发送ACK无需占用任何序号，32Bit确认序号字段和ACK标志一样，总是TCP首部的一部分。因此一旦一个连接建立起来这个字段总是被设置，ACK标志总被设置成1

TCP为应用层提供**全双工服务**，数据能在两个方向上独立地进行传输，因此连接的每一端必须保持每个方向上的传输数据序号

TCP是个缺少选择确认或否认的滑动窗口协议

**缺少选择确认**：

TCP首部中的确认序号表示发方已成功收到字节，但还不包含确认序号所指字节。当前还无法对数据流中所选定的部分进行确认。

数据流中有1 ~ 1024 字节已经成功收到，下一报文段2049 ~ 3072的字节，收端不能确认2049 ~ 3072报文段，能做的是返回一个确认序号为1025的ACK。

**无法否认**

如果收到包含1025~2048字节的报文段，这个检验和错,TCP接收端能做的是发回一个1025的ACK。

在TCP首部有6个标志比特，可以被同时设置为1

URG  紧急指针

ACK   确认序列号有效

PSH   接受方应该尽快将这个报文段交给应用层

RST    重新连接

SYN 同步序号用来发起一个连接

FIN 发送端完成发送任务

TCP流量控制由连接的每一端通过声明的窗口的大小来提供。窗口大小为字节数，这个值是接收方控制发送方可以连续发送未经确认的报文的数量。窗口的大小是一个16bit的字段，因此窗口大小是65535字节。

#### 拥塞控制和流量控制有什么区别？

拥塞控制：防止过多的数据注入到网络中，这样可以使网络中的路由器或链路不致过载。拥塞控制所要做的都有一个前提：网络能够承受现有的网络负荷。拥塞控制是一个**全局性**的过程，涉及到所有的主机、路由器，以及与降低网络传输性能有关的所有因素。
流量控制：指点**对点通信量的控制**，是**端到端正的问题**。流量控制所要做的就是**抑制发送端发送数据的速率**，以便使接收端来得及接收，这个是个局部性的过程。



### TCP建立和终止

TCP：面向连接

怎么样建立连接？

​     

























